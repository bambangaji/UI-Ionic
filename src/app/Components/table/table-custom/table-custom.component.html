<div class="table" style="    overflow: auto;">
  <div *ngIf="type==='schedule'" class="row my-3">
    <div class="px-3 py-2 border-light row ml-4 " *ngIf="dataTableSettings.checkboxAll">
      <ion-checkbox labelPlacement="end" [checked]="isCheckAll" value="isCheckAll"
        [(ngModel)]="isCheckAll"></ion-checkbox>
      <p class="text-grey mb-0 ml-2">Pilih Semua</p>
    </div>
    <form [formGroup]="formSearch">
      <div class="row ml-1">
        <app-input-form class="ml-3 min-width-200 bg-white" *ngIf="!isCheckAll" typeInput="search" placeholder="Cari"
          color="white" formControlName="search" background="grey"></app-input-form>
        <div *ngIf="dataTableSettings.export" class="ml-4 px-3 py-2 border-light row hover-light pointer"
          (click)="exportData()">
          <img src="assets/icon/icon-upload.svg">
          <p class="text-grey mb-0 ml-2">Export Data</p>
        </div>
        <input type="file" name="importData" id="importData" hidden #fileImport>
        <input type="file" name="exportData" id="exportData" hidden>
        <div *ngIf="!isCheckAll && dataTableSettings.import" class="ml-4 px-3 py-2 border-light row hover-light pointer"
          (click)="importData()">
          <img src="assets/icon/icon-download.svg">
          <p class="text-grey mb-0 ml-2">Import Data</p>
        </div>
        <div *ngIf="isCheckAll" class="ml-4 px-2 py-1 border-light row hover-light pointer bg-red-light"
          (click)="deleteAll()">
          <ion-icon name="trash" class="p-0 center-center color-red" style="width: 24px; height: 24px;"></ion-icon>
        </div>
        <p class="mb-0 center-center text-grey" style="position: absolute; right:10px;">
          {{((page - 1)*show)+1}}-{{show*page}} dari {{total_data}}
        </p>
      </div>
    </form>
  </div>
  <div *ngIf="type==='schedule-import'" class="col my-3 mx-4">
    <div class="row justify-content-between">
      <p class="bold-text h6 ">
        Import Jadwal
      </p>
      <p (click)="openAlertKonfirmasi(p)"
        class="mb-0 py-1 px-3 pointer bg-red-light color-red border-radius-8 mr-3 bold-text"
        style="width: fit-content; float:right; position: absolute; right:10px;">Proses Import</p>
    </div>
    <div class="row mt-2 ">
      <p class=" col-2">
        Template Import
      </p>
      <p class="bold-text color-red col-4 p-0">
        Unduh Template
      </p>
    </div>
    <div class="row mt-2" style="place-items: center;">
      <p class=" col-2">
        File Jadwal Flight
      </p>
      <div class="col-4 row text-center center-center " style="place-items: center;">
        <input type="file" name="importData" id="importData" hidden #fileInput>

        <p class=" p-2 bg-grey-blue2 border-radius-8 pointer hover-light" (click)="triggerFileInput()">
          Ubah File
        </p>
        <p class="text-grey ml-2">
          fileName
        </p>
      </div>
      <p (click)="openAlertKonfirmasi(p)" class="mb-0 py-1 px-3 pointer mr-3 bold-text"
        style="width: fit-content; float:right; position: absolute; right:10px;">Total Data: 120 Jadwal </p>
    </div>

  </div>
  <ion-content [style]="customCssContent">
    <div>
      <ion-item lines="none" class="header-table">
        <div class="row pl-5 bg-grey-blue py-2 w-100">
          <div class="col" *ngFor="let p of listHeaderTabel; " [style]="widthCol(p.width)">
            <div class="row" [class]="p.css">
              <p class="mb-0 text-grey bold-text">
                {{p.label}}
              </p>
              <div class="ml-1" *ngIf="p.sort">
                <img src="assets/icon/sort-top-e.svg" style="position: absolute; top: 5px;" class="pointer">
                <img src="assets/icon/sort-bottom.svg" style="position: absolute; bottom: 7px;" class="pointer">
              </div>
            </div>
          </div>
        </div>
      </ion-item>

      <ion-list>
        <!-- row schedule -->
        <div *ngIf="type.includes('schedule')">
          <ion-row lines="none" class="border-light mx-2 py-2 pr-0 hover-light" *ngFor="let p of dataTable">
            <div class="row pl-3 w-100">
              <div class="col center-center max-width-200">
                <div class="row pl-3">
                  <ion-checkbox *ngIf="dataTableSettings.checkbox" style="width: 30px;
                  align-self: center;"></ion-checkbox>
                  <div class="align-self-center">
                    <img [src]="p.image_from" class="small-icon">
                    <img [src]="p.image_to" class="small-icon imgNimpa">
                  </div>
                  <div>
                    <p class="mb-0 bold-text">
                      {{p.country}}
                    </p>
                    <p class="text-grey mb-0">
                      Vendor <span class="bold-text text-dark">{{p.vendor}}</span>
                    </p>
                  </div>
                </div>
              </div>
              <div class="col center-center max-width-200">
                <p class="text-dark">
                  {{p.mawb}}
                </p>
              </div>
              <div class="col center-center max-width-200">
                <p class="text-dark">
                  {{p.airlines}}
                </p>
              </div>
              <div class="col center-center max-width-200">
                <p class="text-dark">
                  {{p.agent}}
                </p>
              </div>
              <div class="col center-center max-width-200" style="min-width: 300px;">
                <p class="text-dark">
                  {{p.date_departed}} <span class="text-grey">Departed</span>
                </p>
                <p>
                  {{p.date_arival}} <span class="text-grey">Arival</span>
                </p>
              </div>
              <div class="col center-center max-width-200">
                <p class="text-dark">
                  {{p.weight}}
                </p>
              </div>
              <div class="col center-center max-width-200">
                <p class="text-dark">
                  {{p.collie}}
                </p>
              </div>
              <div class="col center-center max-width-200">
                <p class="text-dark">
                  {{p.created_at}}
                </p>
              </div>
              <div *ngIf="dataTableSettings.status" class="col center-center max-width-200">
                <app-label-status [status]="p.status"></app-label-status>
              </div>
              <div class="row center-center" style="min-width: 260px;justify-content: right;">
                <p *ngIf="dataTableSettings.confirm" (click)="openAlertKonfirmasi(p)"
                  class="mb-0 py-1 px-3 pointer bg-red-light color-red border-radius-8 mr-3 bold-text"
                  style="width: fit-content; float:right;">Konfirmasi</p>
                <p *ngIf="dataTableSettings.complete" (click)="openAlertComplete(p)"
                  class="mb-0 py-1 px-3 pointer bg-red-light color-red border-radius-8 mr-3 bold-text"
                  style="width: fit-content; float:right;">Sampai</p>
                <ion-icon *ngIf="dataTableSettings.option" [id]="'pop-over-'+p.uuid" name="ellipsis-vertical"
                  class="border-light  p-1 pointer hover-light" color="dark" style="    position: relative !important;
                  right: 6px !important;"></ion-icon>
                <ion-icon *ngIf="dataTableSettings.detail" (click)="openRingkasan(p)" name="eye"
                  class="border-light  p-1 pointer hover-light" color="dark" style="    position: relative !important;
                  right: 6px !important;"></ion-icon>
                <ion-icon *ngIf="dataTableSettings.trash" (click)="openAlertTrash(p)" name="trash"
                  class="border-light  p-1 pointer hover-light" color="dark" style="    position: relative !important;
                  right: 6px !important;"></ion-icon>
                <ion-popover [trigger]="'pop-over-'+p.uuid" triggerAction="click">
                  <ng-template>
                    <ion-content class="ion-padding">
                      <ion-row class="pointer hover-light" *ngIf="dataTableSettings.optionChange"
                        (click)="openAlertChangeSchedule(p)">
                        <ion-icon name="calendar-clear" class="text-grey center-center mr-1"></ion-icon>
                        Ubah Jadwal
                      </ion-row>
                      <ion-row class="pointer hover-light" *ngIf="dataTableSettings.optionChangeVendor"
                        (click)="openAlertChangeSchedule(p)">
                        <ion-icon name="calendar-clear" class="text-grey center-center mr-1"></ion-icon>
                        Change Vendor
                      </ion-row>
                      <ion-row class="pointer hover-light" *ngIf="dataTableSettings.optionDetail"
                        (click)="openRingkasan(p)">
                        <ion-icon name="eye" class="text-grey center-center mr-1"></ion-icon>
                        Lihat Ringkasan
                      </ion-row>
                      <ion-row class="pointer hover-light" *ngIf="dataTableSettings.optionDelete"
                        (click)="openAlertDelete(p,2)">
                        <ion-icon name="trash" class="text-grey center-center mr-1"></ion-icon>
                        Batalkan
                      </ion-row>
                    </ion-content>
                  </ng-template>
                </ion-popover>
              </div>
            </div>
          </ion-row>
        </div>

      </ion-list>
    </div>


  </ion-content>
</div>
<app-detail-schedule hidden></app-detail-schedule>
<app-modal-schedule-create></app-modal-schedule-create>
<app-modal-schedule></app-modal-schedule>